<view class="bg-layer">
  <image class="bg-image" src="https://images.unsplash.com/photo-1495195134817-aeb325a55b65?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80" mode="aspectFill" />
  <view class="bg-mask"></view>
</view>

<view class="container">
  <!-- Hero 标题 -->
  <view class="hero-text fade-in">
    <view class="hero-title">一饭封神</view>
    <view class="hero-sub">灶间有AI，顿顿米其林！</view>
  </view>

  <!-- 主操作卡片 -->
  <view class="main-card fade-in" style="animation-delay: 0.1s;">
    
    <!-- 步骤 0: 输入食材 -->
    <block wx:if="{{currentStep === 0}}">
      <view class="label">输入你现有的食材，按回车添加</view>
      <ingredient-input 
        basket="{{basket}}" 
        ingredientCategories="{{ingredientCategories}}"
        selectedRestrictions="{{dietaryRestrictions}}"
        bind:add="onAddIngredient"
        bind:remove="onRemoveIngredient"
        bind:dietaryChange="onDietaryChange"
        bind:next="nextStep"
      />
    </block>

    <!-- 步骤 1: 选择菜系 -->
    <block wx:if="{{currentStep === 1}}">
      <view class="label">选择一种菜系</view>
      <cuisine-selector
        cuisineSections="{{cuisineSections}}"
        selectedCuisineId="{{selectedCuisineId}}"
        bind:select="onSelectCuisine"
        bind:prev="prevStep"
        bind:generate="onGenerate"
      />
    </block>

  </view>
</view>